-- Таблица courses
DROP TABLE IF EXISTS courses CASCADE;

CREATE SEQUENCE courses_id_seq START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;

CREATE TABLE courses (
    id INTEGER PRIMARY KEY DEFAULT nextval('courses_id_seq'),
    title VARCHAR(50) NOT NULL DEFAULT '',
    length INTEGER NOT NULL DEFAULT 4,
    description TEXT
);

ALTER SEQUENCE courses_id_seq OWNED BY courses.id;

-- Таблица lessons
DROP TABLE IF EXISTS lessons CASCADE;

CREATE SEQUENCE lessons_id_seq START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;

CREATE TABLE lessons (
    id INTEGER PRIMARY KEY DEFAULT nextval('lessons_id_seq'),
    teacher INTEGER,
    course INTEGER,
    room VARCHAR(10),
    lesson_date TIMESTAMP WITHOUT TIME ZONE
);

ALTER SEQUENCE lessons_id_seq OWNED BY lessons.id;

-- Таблица teachers
DROP TABLE IF EXISTS teachers CASCADE;

CREATE TABLE teachers (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL DEFAULT '',
    addr VARCHAR(255) NOT NULL DEFAULT '',
    phone VARCHAR(25)
);

-- Данные для таблицы courses
INSERT INTO courses (title, length, description) VALUES
('Web-мастеринг. Основы серверного программирования', 32, 'Данный курс посвящен технологиям Веб-мастеринга. В курсе рассматриваются основные, базовые понятия, которые необходимы веб-мастеру для успешного создания решений на базе веб-серверов. Слушатели приобретают навыки администрирования веб-серверов, использования баз данных на веб-серверах, узнают основные характеристики и возможности наиболее часто используемых веб-серверов.'),
('Основы PHP программирования', 32, 'Вы научитесь профессионально создавать Web-сайты и Web-приложения при помощи языка PHP. Вы получите полное представление о возможностях применения технологии PHP – от настройки для совместной работы с серверами Apache и MySQL до создания профессиональных Web-интерфейсов к базам данных в Интернет и написания форума.'),
('Профессиональное программирование на PHP 5', 32, 'Вы изучите профессиональные приёмы программирования на PHP, сможете использовать полученные навыки для построения сложных, эффективных и безопасных Web-приложений.'),
('Сервер MySQL 5', 32, 'Сервер MySQL очень распространён и часто используется в Веб–технологиях. На этом сервере базируются большинство сайтов и решений в Интернете. На курсе «Сервер MySQL 5» рассматриваются основные приемы и методы эффективной работы с сервером MySQL 5. Данный курс предназначен для разработчиков, которые планируют использовать сервер MySQL в своей практике. Особенно курс будет интересен Веб–разработчикам, использующим PHP и Perl.'),
('Современные XML технологии', 32, 'Вы научитесь применять XML-технологии в процессе создания сайтов и других Интернет-решений. В современном мире эти технологии активно используются при решении самых разнообразных задач, и, изучив их, Вы будете идти в ногу со временем.'),
('Web-маркетинг', 20, 'Сегодня специалист по Интернет-технологиям должен не только владеть техническими навыками, но и понимать значение своей работы для бизнеса заказчика. Никому не нужен сайт (каким бы хорошим он ни был!), который не посещается целевой аудиторией. Успешно пройдя обучение на этом уникальном авторском курсе, Вы научитесь привлекать максимальное количество заинтересованных пользователей, проводить эффективную электронную рекламу, привлекать внимание к представленной на сайте информации.'),
('2310 Разработка Web-приложений ASP .NET', 40, 'Этот курс обеспечивает студентов знаниями и навыками, которые необходимы для разработки Web приложений на базе Microsoft Visual Studio .NET и Microsoft ASP .NET.');

-- Данные для таблицы lessons
INSERT INTO lessons (teacher, course, room, lesson_date) VALUES
(1, 1, 'БК-1', '2006-09-15 00:00:00'),
(2, 2, 'БК-2', '2006-09-16 00:00:00'),
(3, 3, 'БК-3', '2006-09-17 00:00:00'),
(4, 4, 'БК-4', '2006-09-18 00:00:00'),
(5, 5, 'БК-5', '2006-09-19 00:00:00'),
(1, 6, 'БК-6', '2006-09-20 00:00:00'),
(2, 7, 'БК-7', '2006-09-21 00:00:00'),
(3, 1, 'БК-8', '2006-09-22 00:00:00'),
(4, 2, 'БК-9', '2006-09-23 00:00:00'),
(5, 3, 'БК-10', '2006-09-24 00:00:00'),
(1, 4, 'БК-11', '2006-09-25 00:00:00'),
(2, 5, 'БК-12', '2006-09-26 00:00:00'),
(3, 6, 'БК-14', '2006-09-27 00:00:00'),
(4, 7, 'БК-15', '2006-09-28 00:00:00'),
(5, 1, 'БК-16', '2006-09-29 00:00:00'),
(1, 2, 'БК-17', '2006-09-30 00:00:00'),
(2, 3, 'БК-18', '2006-10-01 00:00:00'),
(3, 4, 'БК-19', '2006-10-02 00:00:00'),
(4, 5, 'БК-1', '2006-10-03 00:00:00'),
(5, 6, 'БК-12', '2006-10-04 00:00:00'),
(1, 7, 'БК-14', '2006-10-05 00:00:00'),
(2, 1, 'БК-15', '2006-10-06 00:00:00'),
(3, 2, 'БК-16', '2006-10-07 00:00:00'),
(4, 3, 'БК-17', '2006-10-08 00:00:00'),
(5, 4, 'БК-18', '2006-10-09 00:00:00'),
(1, 5, 'БК-19', '2006-10-10 00:00:00'),
(2, 6, 'БК-20', '2006-10-11 00:00:00'),
(3, 7, 'БК-1', '2006-10-12 00:00:00');

-- Данные для таблицы teachers
INSERT INTO teachers (name, addr, phone) VALUES
('Иванов Иван Иванович', 'Москва, Бакунинская, 71', '123-45-67'),
('Петров Петр Петрович', 'Москва, Госпитальный пер. 4/5', '765-43-21'),
('Сидоров Сидор Сидорович', 'Москва, Цветной бульвар, 19', '987-65-43'),
('Пупкин Василий Иванович', 'Щелково, Комарова, 21', '456-23-12'),
('Сумкин Федор Михайлович', 'Королев, проспект Космонавтов, 15', '543-43-23');